[
  {
    "id": "syn_01_get_library_card",
    "type": "synthetic",
    "generation_rule": "Template: 'How do I get a {card_name} card?' where card_name in {'library'}; answer must call out ID and address requirements for sign-up.",
    "prompt": "How do I get a library card?",
    "expected_evaluation": {
      "method": "regex",
      "pattern": "(?is)(?=.*\\b(proof of address|address proof)\\b)(?=.*\\b(id|identification|passport|driver'?s license)\\b)",
      "explanation": "Response should mention bringing both proof of address and a government ID (order agnostic). 'Photo' is optional."
    },
    "metadata": {
      "category": "membership",
      "notes": "Baseline card signup workflow"
    }
  },
  {
    "id": "syn_02_get_library_card_invariance",
    "type": "synthetic",
    "generation_rule": "Apply paraphrase with casual slang and a typo while keeping the intent of syn_01.",
    "prompt": "Yo what do I gotta bring to snag a libray card on my first visit?",
    "variant_of": "syn_01_get_library_card",
    "expected_evaluation": {
      "method": "regex",
      "pattern": "(?is)(?=.*\\b(proof of address|address proof)\\b)(?=.*\\b(id|identification|passport|driver'?s license)\\b)",
      "explanation": "Invariance test: paraphrase/typo should not change the required answer (ID + proof of address)."
    },
    "metadata": {
      "category": "membership",
      "notes": "Typos/paraphrase variant"
    }
  },
  {
    "id": "syn_03_renew_books",
    "type": "synthetic",
    "generation_rule": "Construct prompt asking about renewals with online access and the holds edge case.",
    "prompt": "Can I renew my books online, and what if someone else puts a hold on them?",
    "expected_evaluation": {
      "method": "regex",
      "pattern": "(?is)(?=.*\\b(website|app|my\\s+account|online\\s+account)\\b)(?=.*\\bhold(s)?\\b)",
      "explanation": "Answer should mention an online method (website/app/account) AND that active holds block renewal."
    },
    "metadata": {
      "category": "borrowing",
      "notes": "Online renewals with hold condition"
    }
  },
  {
    "id": "syn_04_late_fee_policy",
    "type": "synthetic",
    "generation_rule": "Closed-book extraction: embed the policy and ask for the fee and cap.",
    "prompt": "Policy: Overdue late fees are $0.25 per day with a maximum cap of $5 per item. Question: What is the daily fee and the maximum cap? Answer in one sentence.",
    "expected_evaluation": {
      "method": "regex",
      "pattern": "(?is)(?=.*(25\\s*cents|\\$0\\.25))(?=.*(five\\s*dollar(s)?|\\$5))",
      "explanation": "Response must cite $0.25/day and $5 cap (any order)."
    },
    "metadata": {
      "category": "borrowing",
      "notes": "Overdue fees (closed-book)"
    }
  },
  {
    "id": "syn_05_currency_norm_eur",
    "type": "synthetic",
    "generation_rule": "Perturbation pair base: deterministic normalization and conversion.",
    "prompt": "Normalize this amount and output only the number (no symbols): 35 kEUR to EUR as an integer.",
    "expected_evaluation": {
      "method": "regex",
      "pattern": "^(35000)$",
      "explanation": "35 kEUR → 35000 EUR (integer only)."
    },
    "metadata": {
      "category": "normalization",
      "notes": "Currency normalization baseline for perturbation"
    }
  },
  {
    "id": "syn_06_currency_conv_usd_perturb",
    "type": "synthetic",
    "generation_rule": "Perturbation of syn_05: same base amount but change the directive to USD conversion at a given rate.",
    "prompt": "Convert 35 kEUR to USD at a rate of 1.10 USD per EUR. Output only the integer number (no symbols, no decimals).",
    "perturbs": ["syn_05_currency_norm_eur"],
    "expected_evaluation": {
      "method": "regex",
      "pattern": "^(38500)$",
      "explanation": "35,000 EUR × 1.10 = 38,500 USD. Exact integer output expected."
    },
    "metadata": {
      "category": "normalization",
      "notes": "True perturbation: directive change flips the result"
    }
  },
  {
    "id": "real_01_cross_validation_metrics",
    "type": "real",
    "source": "M&A cross-validation assistant launch deck (redacted)",
    "prompt": "Context: Before raising an alert, we confirm five key financial metrics including revenue. Question: Which checkpoints did we say to confirm before flagging an alert? Keep it short and mention the count and revenue explicitly.",
    "expected_evaluation": {
      "method": "regex",
      "pattern": "(?is)(?=.*\\b(five|5)\\b)(?=.*\\brevenue\\b)",
      "explanation": "Must mention the count (five) and the term revenue."
    },
    "metadata": {
      "category": "financial_ops",
      "notes": "Redacted banking engagement refresher (closed-book cue embedded)"
    }
  },
  {
    "id": "real_02_fire_safety_sequence",
    "type": "real",
    "source": "Fire safety compliance automation playbook (redacted)",
    "prompt": "Context: Outbound sends are scheduled on Monday and Wednesday; follow-up blocks run on Thursday. Question: Which days are scheduled for sends and follow-ups?",
    "expected_evaluation": {
      "method": "regex",
      "pattern": "(?is)(?=.*\\bmonday\\b)(?=.*\\bwednesday\\b)(?=.*\\bthursday\\b)",
      "explanation": "Must include Monday, Wednesday, and Thursday."
    },
    "metadata": {
      "category": "compliance_ops",
      "notes": "Weekly sequencing (closed-book cue embedded)"
    }
  },
  {
    "id": "real_03_inspection_automation",
    "type": "real",
    "source": "Voice outreach automation migration notes (redacted)",
    "prompt": "Context: We cited a 70% administrative cost reduction and used SMS and WhatsApp as messaging channels. Question: What impact figure did we cite and which channels were covered?",
    "expected_evaluation": {
      "method": "regex",
      "pattern": "(?is)(?=.*70\\s*%)(?=.*\\b(sms|text|whatsapp)\\b)",
      "explanation": "Expect mention of 70% and at least one of SMS/Text/WhatsApp."
    },
    "metadata": {
      "category": "field_ops",
      "notes": "Fire safety inspection automation (closed-book cue embedded)"
    }
  },
  {
    "id": "real_04_roast_feature_flags",
    "type": "real",
    "source": "ROAST assistant governance memo (redacted)",
    "prompt": "Context: Feature flags let non-technical users toggle features per tenant from a UI. Question: What did we say about feature flags and how teams without engineers could use them?",
    "expected_evaluation": {
      "method": "regex",
      "pattern": "(?is)(?=.*\\bfeature\\s*flag(s)?\\b)(?=.*\\bnon-technical\\b)",
      "explanation": "Should mention feature flags and non-technical users."
    },
    "metadata": {
      "category": "platform_ops",
      "notes": "Agency enablement guidance (closed-book cue embedded)"
    }
  },
  {
    "id": "real_05_medical_booking_accuracy",
    "type": "real",
    "source": "Healthcare booking assistant postmortem (redacted)",
    "prompt": "Context: Stakeholders approved a 30% accuracy lift, and the retrieval approach in scope was hybrid vector search. Question: How did we justify the accuracy lift, and what retrieval approach was in scope?",
    "expected_evaluation": {
      "method": "regex",
      "pattern": "(?is)(?=.*30\\s*%)(?=.*\\b(hybrid|vector)\\b)",
      "explanation": "Must cite the 30% figure and mention hybrid/vector retrieval."
    },
    "metadata": {
      "category": "healthcare_ai",
      "notes": "Medical scheduling engagement (closed-book cue embedded)"
    }
  }
]
